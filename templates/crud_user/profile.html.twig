{# {% extends 'base.html.twig' %}

{% block title %}User
{% endblock %}

{% block body %}
	<section class='backModifier'>
	<div class='col-md-3'></div>
	<div class='col-md-9'>
		<div class="section">
			<div class="container">
				<div class="row full-height justify-content-center">
					<div class="col-12 text-center align-self-center py-5">
						<div class="section pb-5 pt-5 pt-sm-2 text-center text-white">
							<h6 class="mb-0 pb-3  switch-tabs">
								<span class="tab">Profile</span>
								<span class="tab">Modifier</span>
							</h6>
							<input class="checkbox" type="checkbox" id="reg-log" name="reg-log"/>
							<label for="reg-log"></label>
							<div class="card-3d-wrap mx-auto">
								<div class="card-3d-wrapper">
									<div class="card-front">
										<div class="center-wrap">
											<div class="section">
												<h4 class="mb-4 pb-3 h4">Profile</h4>
												<div class="cardProfile">
													<div class="image">
														{% if user.genre.genre %}
															{# <img class="w-75 avatarProfile" src="{{ asset('assets/img/' ~ user.genre.genre ~ '.avif') }}"/>
																																												{% else %} #}
															<img class="imageAvatar" src="{{ asset('assets/img/iconprofile.svg') }}"/>
														{% endif %}
													</div>
													<div class="card-info">
													    {% if user.genre.genre === Homme %}
														<span>Mrs {{ user.nom|upper }}
														
															{{ user.prenom|capitalize }}</span>
															{% else %}
															<span>Mme {{ user.nom|upper }}
														
															{{ user.prenom|capitalize }}</span>
															{% endif %}
														<p>{{ user.email }}</p>
													</div>
													<a href="#" class="button">Modifier</a>
												</div>

											</div>
										</div>
									</div>
									<div class="card-back">
										<div class="center-wrap">
											<div class="section text-center">
												<h4 class="mb04 pb-3">Cr√©er Votre Compte</h4>
												{{ include('crud_user/_form.html.twig', {'button_label': 'Modifier'}) }}
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
    </section>
	{% block script %}
		 <script>
document.addEventListener("DOMContentLoaded", function() {
    const tabs = document.querySelectorAll(".switch-tabs .tab");
    const checkbox = document.getElementById("reg-log");
    const modifierButton = document.getElementById("modifier-button");

    tabs.forEach(tab => {
        tab.addEventListener("click", function() {
            tabs.forEach(t => t.classList.remove("tab-active"));
            this.classList.add("tab-active");

            if (this.textContent.trim() === "Modifier") {
                checkbox.checked = true;
            } else {
                checkbox.checked = false;
            }

            updateTabBackgrounds();
        });
    });

    checkbox.addEventListener("change", function() {
        updateTabBackgrounds();
    });

    if (checkbox.checked) {
        tabs[1].classList.add("tab-active");
    } else {
        tabs[0].classList.add("tab-active");
    }

    updateTabBackgrounds();

    function updateTabBackgrounds() {
        if (checkbox.checked) {
            tabs[1].style.backgroundColor = "#ff9901";
            tabs[1].style.color = "#fff";
            tabs[0].style.backgroundColor = "#242f40";
            tabs[0].style.color = "#fff";
        } else {
            tabs[0].style.backgroundColor = "#ff9901";
            tabs[0].style.color = "#fff";
            tabs[1].style.backgroundColor = "#242f40";
            tabs[1].style.color = "#fff";
        }
    }

    modifierButton.addEventListener("click", function() {
        checkbox.checked = true;
        updateTabBackgrounds();
    });

    const togglePassword = document.getElementById("togglePassword");
    const password = document.querySelector("#password");

    togglePassword.addEventListener("change", function() {
        const type = password.getAttribute("type") === "password" ? "text" : "password";
        password.setAttribute("type", type);

        // Toggle the visibility icons
        const eye = togglePassword.nextElementSibling;
        const eyeSlash = eye.nextElementSibling;
        if (type === "password") {
            eye.style.display = "block";
            eyeSlash.style.display = "none";
        } else {
            eye.style.display = "none";
            eyeSlash.style.display = "block";
        }
    });

    // Initialize the visibility of the icons
    const eye = togglePassword.nextElementSibling;
    const eyeSlash = eye.nextElementSibling;
    eye.style.display = "none";
});

							 </script>
	{% endblock %}
{% endblock %} #}
